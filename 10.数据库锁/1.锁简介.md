# 1. 锁简介

## 1.1 什么是锁？

锁是计算机协调多个进程或线程并发访问某一资源的限制。

在数据库中，除传统的计算资源(如CPU、I/O、RAM等)的争用以外，数据也是一种供许多用户共享的资源。

如何保证数据并发访问的一致性、有效性是所有数据库必须解决的1个问题，锁冲突也是影响数据库并发访问性能的一个重要因素，从这个角度来说，锁对数据库而言显得尤其重要，也更加复杂。


## 1.2 锁的分类

锁分为2类:
从对数据操作的类型分:
* 读锁(共享所能): 针对同一份数据，多个读操作可以同时进行而不会互相影响。
* 写锁(排它锁): 当前写操作没完成之前，会阻断其他写锁和读锁

从对数据操作的粒度分:

* 表锁 

> 偏向MyISAM存储引擎:
> * 开销小、加锁快、无死锁
> * 锁定粒度大、发生锁冲突的概率最高、并发度最低

* 行锁

> 偏向InnoDB存储引擎
> * 开销大、加锁慢，可能会出现死锁
> * 锁定粒度小、发生锁冲突的概率最低、并发度最高


## 1.3  InnoDB vs. MyISAM
InnoDB:
* 支持事务
* 采用行级锁


MyISAM:
* 表级锁
